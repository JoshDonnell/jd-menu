"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,t),this.settings=_objectSpread(_objectSpread({},this.defaults),n),"object"===_typeof(n)||"startmenu"==n)this.init(e);else switch(n){case"up":this.up(e);break;case"down":this.down(e);break;case"removemenu":this.removeMenu(e)}}return _createClass(t,[{key:"defaults",get:function(){return{arrows:!0,animation:"slide",duration:300,customArrow:'<i class="jdmenu-arrow  fa fa-chevron-right"></i>',customBack:'<i class="fa fa-chevron-left"></i> Back',theme:"default"}}},{key:"init",value:function(t){this.menu=t;var n=this.menu,i=this.settings;"default"==i.theme&&n.addClass("jd-menu"),this.currentLevel=n.find("> ul"),this.left=0,n.find("li > ul").prepend('<li class="jdmenu-back  js-back"><span>'.concat(i.customBack,"</span></li>")),n.find("li").each(function(t,n){if(e(this).children("ul").length>0){if(e(this).addClass("hasChild"),!i.customArrow)return;e(this).append(i.customArrow)}}),0==i.animation&&(this.settings.duration=0),this.clickEvents(),this.trigger()}},{key:"_move",value:function(e,t){var n=this.menu,i=this.settings;n.find(">ul").animate({left:e},i.duration,t)}},{key:"clickEvents",value:function(){var t=this.menu,n=this.settings,i=this;e("li",this.currentLevel).click(function(r){if(!(this._clicked+n.duration>Date.now()||t.find(">ul").is(":animated"))){this._clicked=Date.now(),r.stopPropagation();var o=e(this),s=e(r.target);if(e(this).is(".hasChild")){if(s.is(".jdmenu-back")||e(this).hasClass(".jdmenu-back")||s.parents(".jdmenu-back").length||s.is("a")&&"#"!=s.attr("href"))return;i.left=i.left-100,i._move("".concat(i.left,"%")),this.currentLevel=o.find("> a").next(),this.currentLevel.show()}e(this).is(".jdmenu-back")&&(i.left=i.left+100,i._move("".concat(i.left,"%"),function(){this.currentLevel=o.parent(),this.currentLevel.hide()}))}})}},{key:"trigger",value:function(){var e=this.menu,t=this.settings,n=this;t.trigger&&t.trigger.click(function(){e.hasClass("isActive")?e.removeClass("isActive"):(e.addClass("isActive"),n.left=0,e.find(">ul").animate({left:n.left},0),e.find("ul >li ul").hide()),e.slideToggle()})}},{key:"up",value:function(e){e.slideUp()}},{key:"down",value:function(e){e.slideDown()}},{key:"removeMenu",value:function(e){var t=e;t.removeClass("jd-menu"),t.find(".jdmenu-arrow").remove(),t.find(".jdmenu-back").remove()}}]),t}();e.fn.jdMenu=function(n){return new t(e(this),n)}});