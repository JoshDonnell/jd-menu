'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(a){'function'==typeof define&&define.amd?define(['jquery'],a):'undefined'!=typeof module&&module.exports?module.exports=a(require('jquery')):a(jQuery)})(function(a){var b=function(){function c(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,c),this.settings=_extends({},this.defaults,f),'object'===('undefined'==typeof f?'undefined':_typeof(f))||'startmenu'==f?this.init(d):'up'===f?this.up(d):'down'===f?this.down(d):'removemenu'===f?this.removeMenu(d):void 0}return _createClass(c,[{key:'defaults',get:function get(){return{arrows:!0,animation:'slide',duration:300,customArrow:'<i class="jdmenu-arrow  fa fa-chevron-right"></i>',customBack:'<i class="fa fa-chevron-left"></i> Back',theme:'default'}}}]),_createClass(c,[{key:'init',value:function init(d){this.menu=d;var f=this.menu,g=this.settings;'default'==g.theme&&f.addClass('jd-menu'),this.currentLevel=f.find('> ul'),this.left=0,f.find('li > ul').prepend('<li class="jdmenu-back  js-back"><span>'+g.customBack+'</span></li>'),f.find('li').each(function(){if(0<a(this).children('ul').length){if(a(this).addClass('hasChild'),!g.customArrow)return;a(this).append(g.customArrow)}}),!1==g.animation&&(this.settings.duration=0),this.clickEvents(),this.trigger()}},{key:'_move',value:function _move(d,f){var g=this.menu,h=this.settings;g.find('>ul').animate({left:d},h.duration,f)}},{key:'clickEvents',value:function clickEvents(){var d=this.menu,f=this.settings,g=this;a('li',this.currentLevel).click(function(h){if(!(this._clicked+f.duration>Date.now())&&!d.find('>ul').is(':animated')){this._clicked=Date.now(),h.stopPropagation();var j=a(this),k=a(h.target);if(a(this).is('.hasChild')){if(k.is('.jdmenu-back')||a(this).hasClass('.jdmenu-back')||k.parents('.jdmenu-back').length||k.is('a'))return;g.left-=100,g._move(g.left+'%'),this.currentLevel=j.find('> a').next(),this.currentLevel.show()}a(this).is('.jdmenu-back')&&(g.left+=100,g._move(g.left+'%',function(){this.currentLevel=j.parent(),this.currentLevel.hide()}))}})}},{key:'trigger',value:function trigger(){var d=this.menu,f=this.settings,g=this;if(f.trigger){var h=f.trigger;h.click(function(){d.hasClass('isActive')?d.removeClass('isActive'):(d.addClass('isActive'),g.left=0,d.animate({marginLeft:g.left},0),d.find('ul >li ul').hide()),d.slideToggle()})}}},{key:'up',value:function up(d){d.slideUp()}},{key:'down',value:function down(d){d.slideDown()}},{key:'removeMenu',value:function removeMenu(d){var f=d;f.removeClass('jd-menu'),f.find('.jdmenu-arrow').remove(),f.find('.jdmenu-back').remove()}}]),c}();a.fn.jdMenu=function(c){var d=new b(a(this),c);return d}});