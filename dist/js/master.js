'use strict';var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(a){'function'==typeof define&&define.amd?define(['jquery'],a):'undefined'!=typeof module&&module.exports?module.exports=a(require('jquery')):a(jQuery)})(function(a){var b=function(){function c(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,c),this.settings=_extends({},this.defaults,f),this.init(d)}return _createClass(c,[{key:'defaults',get:function get(){return{arrows:!0,animation:'slide',duration:300,customArrow:'<i class="fa fa-chevron-right"></i>',customBack:'<li class="js-back"><span><i class="fa fa-chevron-left"></i> Back</span></li>',theme:'default'}}}]),_createClass(c,[{key:'init',value:function init(d){this.menu=d;var f=this.menu,g=this.settings;'default'==g.theme&&f.addClass('jd-menu'),this.currentLevel=f.find('> ul'),this.left=0,f.find('li > ul').prepend(g.customBack),f.find('li').each(function(){if(0<a(this).children('ul').length){if(a(this).addClass('hasChild'),!g.customArrow)return;a(this).append(g.customArrow)}}),!1==g.animation&&(this.settings.duration=0),this.clickEvents(),this.trigger()}},{key:'_move',value:function _move(d,f){var g=this.menu,h=this.settings;g.animate({marginLeft:d},h.duration,f)}},{key:'clickEvents',value:function clickEvents(){var g=this.menu,h=this.settings,d=this;a('li',this.currentLevel).click(function(j){if(!(this._clicked+h.duration>Date.now())&&!g.is(':animated')){this._clicked=Date.now(),j.stopPropagation();var k=a(this),l=a(j.target);if(a(this).is('.hasChild')){if(l.is('.js-back')||a(this).hasClass('.js-back')||l.parents('.js-back').length||l.is('a'))return;d.left-=100,d._move(d.left+'%'),this.currentLevel=k.find('> a').next(),this.currentLevel.show()}a(this).is('.js-back')&&(d.left+=100,d._move(d.left+'%',function(){this.currentLevel=k.parent(),this.currentLevel.hide()}))}})}},{key:'trigger',value:function trigger(){var d=this.menu,f=this.settings;if(f.trigger){var g=f.trigger;g.click(function(){d.slideToggle()})}}}]),c}();a.fn.jdMenu=function(c){var d=new b(a(this),c);return d}});